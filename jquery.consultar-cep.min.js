(function(e){e.fn.consultarCep=function(t){var n=function(n){var n=n.replace("-",""),r=t.url.replace("$CEP",n);t.evento=="click"?t.btnConsultar.button("loading"):t.elMensagem.html(t.mensagem).show();e.ajax({url:r,jsonp:false,jasonpCallback:"correiocontrolcep",dataType:"jsonp",crossDomain:true}).success(function(e){correiocontrolcep(e)}).always(function(e){if(t.evento=="click")t.btnConsultar.button("reset")})};window.correiocontrolcep=function(n){if(n==null||n==undefined||n.hasOwnProperty("erro")){t.elMensagem.html("CEP n√£o encontrado").show();for(var r in t.campos)e(t.campos[r]).val(n[r]);return}else{for(var r in t.campos)e(t.campos[r]).val(n[r]);if(t.evento=="click"){t.btnConsultar.button("reset")}t.elMensagem.html("").hide();if(t.focarAposPara)e(t.focarAposPara).focus()}};var t=e.extend({elCep:e(this),campos:{cep:"#cep",logradouro:"#endereco",bairro:"#bairro",localidade:"#cidade",uf:"#uf"},evento:"click",focarAposPara:"#cep",btnConsultar:"#consultar-cep",elMensagem:this,mensagem:'<i class="fa fa-spin fa-spinner"></i>',url:"http://cep.correiocontrol.com.br/$CEP.js"},t);t.btnConsultar=e(t.btnConsultar);t.elMensagem=e("<span/>",{"class":"label label-default",html:t.mensagem}).hide();if(t.evento=="click"){t.btnConsultar.parent().parent().after(t.elMensagem);t.btnConsultar.data("loading-text",t.mensagem);t.btnConsultar.on("click",function(){n(t.elCep.val())})}else{t.elCep.after(t.elMensagem);t.elCep.on("blur",function(){n(e(this).val())})}return this}})(jQuery)